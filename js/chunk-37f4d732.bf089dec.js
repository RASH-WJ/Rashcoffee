(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-37f4d732"],{"0a76":function(t,e,s){t.exports=s.p+"img/Mymessage.07bf6f0f.gif"},"0ebc":function(t,e,s){"use strict";s.r(e);var o=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"security"},[s("van-nav-bar",{attrs:{title:"个人资料",fixed:"","left-text":"返回","left-arrow":""},on:{"click-left":t.goMy}}),s("Mymessage",[s("ul",[s("li",{on:{click:t.changePass}},[s("div",{staticClass:"left"},[t._v("修改密码")]),s("div",{staticClass:"right"},[s("van-icon",{attrs:{name:"arrow"}})],1)]),s("li",{on:{click:t.CancelNum}},[s("div",{staticClass:"left"},[t._v("注销账号")]),s("div",{staticClass:"right"},[s("van-icon",{attrs:{name:"arrow"}})],1)])])]),s("van-popup",{style:{height:"45%"},attrs:{round:"",closeable:"","close-icon":"close",position:"bottom"},model:{value:t.isShowPass,callback:function(e){t.isShowPass=e},expression:"isShowPass"}},[s("h2",{staticStyle:{"text-align":"center"}},[t._v("注 册")]),s("div",{staticClass:"login-textBox",staticStyle:{padding:"10px 15px"}},[s("van-cell-group",[s("van-field",{attrs:{type:t.isText?"text":"password",label:"旧密码 :",placeholder:"请输入旧密码","right-icon":t.isText?"eye-o":"closed-eye"},on:{"click-right-icon":t.toggleType},model:{value:t.changePassWord.oldPassWord,callback:function(e){t.$set(t.changePassWord,"oldPassWord",e)},expression:"changePassWord.oldPassWord"}}),s("van-field",{attrs:{type:t.isText?"text":"password",label:"新密码 :",placeholder:"请输入新密码","right-icon":t.isText?"eye-o":"closed-eye"},on:{"click-right-icon":t.toggleType},model:{value:t.changePassWord.newPassWord,callback:function(e){t.$set(t.changePassWord,"newPassWord",e)},expression:"changePassWord.newPassWord"}})],1)],1),s("div",{staticClass:"btns"},[s("van-button",{staticClass:"register",attrs:{color:"#21b276",block:"",round:""},on:{click:t.verification}},[t._v("提交")])],1)]),s("div",{staticClass:"out"},[s("van-button",{attrs:{type:"primary",block:"",color:"#21b276",round:""},on:{click:t.logOut}},[t._v("退出登录")])],1)],1)},a=[],n=(s("e17f"),s("2241")),i=(s("e4db"),s("c3fb")),r=s("edc2"),c={name:"Security",data:function(){return{isShowPass:!1,isText:!1,tokenString:"",changePassWord:{oldPassWord:"",newPassWord:""}}},components:{Mymessage:r["a"]},methods:{toggleType:function(){this.isText=!this.isText},changePass:function(){this.isShowPass=!this.isShowPass},verification:function(){var t=this,e={password:{value:this.changePassWord.newPassWord,reg:/^[A-Za-z]\w{5,15}$/,errorMsg:"密码支持字母数字_组合且首字符必须为字母"}};if(i["a"].validForm(e)){if(this.tokenString=this.$cookies.get("tokenString"),!this.tokenString)return this.$router.push({name:"Login"});this.$toast.loading({message:"加载中...",forbidClick:!0,dutation:500}),this.axios({method:"POST",url:"/updatePassword",data:{tokenString:this.tokenString,password:this.changePassWord.newPassWord,oldPassword:this.changePassWord.oldPassWord}}).then((function(e){if(t.$toast.clear(),"E001"==e.data.code&&1===e.data.result[0]){for(var s in t.$toast({message:e.data.msg,forbidClick:!0,duration:500}),t.isShowPass=!1,t.userRegisterInfo)t.userRegisterInfo[s]="";t.$router.push({name:"Login"})}})).catch((function(t){console.log("eer==>",t)}))}},CancelNum:function(){var t=this;if(this.tokenString=this.$cookies.get("tokenString"),!this.tokenString)return this.$router.push({name:"Login"});this.$toast.loading({message:"加载中...",forbidClick:!0,dutation:500}),n["a"].confirm({title:"注销账号",message:"你真的要确定注销吗?"}).then((function(){t.axios({method:"POST",url:"/destroyAccount",params:{tokenString:t.tokenString}}).then((function(e){700!=e.data.code&&"G001"===e.data.code&&1===e.data.result[0]&&(t.$toast.loading({message:e.data.msg,forbidClick:!0,dutation:500}),t.$cookies.remove("tokenString"),t.$router.push({name:"Login"}))})).catch((function(t){console.log("eer==>",t)}))})).catch((function(){}))},goMy:function(){this.$router.go(-1)},logOut:function(){var t=this;if(this.tokenString=this.$cookies.get("tokenString"),!this.tokenString)return this.$router.push({name:"Login"});this.$toast.loading({message:"加载中...",forbidClick:!0,dutation:500}),this.axios({method:"POST",url:"/logout",params:{tokenString:this.tokenString}}).then((function(e){if(700!=e.data.code)return"F001"===e.data.code&&1===e.data.result[0]?(t.$cookies.remove("tokenString"),t.$router.push({name:"Login"})):void 0})).catch((function(t){console.log("eer==>",t)}))}}},l=c,u=s("2877"),d=Object(u["a"])(l,o,a,!1,null,null,null);e["default"]=d.exports},5642:function(t,e,s){},c3fb:function(t,e,s){"use strict";s.d(e,"a",(function(){return c}));s("e7e5");var o=s("d399");function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function n(t,e){for(var s=0;s<e.length;s++){var o=e[s];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function i(t,e,s){return e&&n(t.prototype,e),s&&n(t,s),t}var r=function(){function t(){a(this,t)}return i(t,[{key:"validForm",value:function(t){for(var e in t)if(!t[e].reg.test(t[e].value))return Object(o["a"])({message:t[e].errorMsg,duration:500,forbidClick:!0}),!1;return!0}}]),t}(),c=new r},e4db:function(t,e,s){},edc2:function(t,e,s){"use strict";var o=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"MyMessage"},[t._m(0),s("div",{staticClass:"box"},[t._t("default")],2)])},a=[function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"topImg"},[o("img",{staticClass:"auto-img",attrs:{src:s("0a76"),alt:""}})])}],n=(s("5642"),{name:"Mymessage"}),i=n,r=s("2877"),c=Object(r["a"])(i,o,a,!1,null,null,null);e["a"]=c.exports}}]);
//# sourceMappingURL=chunk-37f4d732.bf089dec.js.map